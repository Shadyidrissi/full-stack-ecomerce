import isPlainObj from"is-plain-obj";

import{removeUndefined}from"./default.js";
import{handleInvalidOpts}from"./invalid.js";


export const validateClasses=(classes,optName,validateAllOpts)=>{
if(!isPlainObj(classes)){
handleInvalidOpts("must be a plain object",classes,optName)
}

if(optName.length>1){
handleInvalidOpts("must not be defined",classes,optName)
}

Object.entries(classes).forEach(([className,classOpts])=>{
validateAllOpts(classOpts,[...optName,className])
})
};



export const applyClassesOpts=({name},{classes={},...opts}={})=>{
const classesOpts=classes[name]||classes.default||{};
return{...opts,...removeUndefined(classesOpts)}
};
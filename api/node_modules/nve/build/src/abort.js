import process from"node:process";

export const getAbortOptions=(opts)=>{
const controller=new AbortController;
const optsA={...opts,cancelSignal:controller.signal};
return{controller,opts:optsA}
};





export const cancelOnError=async(promises,controller)=>{
try{
return await Promise.all(promises)
}catch(error){
process.on("uncaughtException",noop);
controller.abort();
throw error
}
};



const noop=()=>{};
import{stdout}from"node:process";

import nodeVersionAlias from"node-version-alias";

import{cancelOnError}from"./abort.js";


export const printVersions=async(versionRanges,opts,controller)=>{
const versions=await cancelOnError(
versionRanges.map((versionRange)=>getVersion(versionRange,opts)),
controller
);
versions.forEach(writeVersion)
};

export const printVersion=async(versionRange,opts)=>{
const version=await getVersion(versionRange,opts);
writeVersion(version)
};






const getVersion=(versionRange,{fetch:fetchOpt=true,mirror,signal})=>
nodeVersionAlias(versionRange,{fetch:fetchOpt,mirror,signal});

const writeVersion=(version)=>{
stdout.write(`${version}\n`)
};